\begin{algorithm}
%  \SetAlgoNoLine
  \caption{Vote:從節點$u$來觀察}
    // 確認$v.B$並且將$v$廣播給所有節點



\If{在$TOvote$到期之前,$u$在第$r$回合收到一個合法的Proposal $p$}{
  $v.B$ $\gets$ $p.B$並且將$v$廣播給所有節點
}

\Else{

\If{$r$=1}{
  
  $v.B$ $\gets$ $\varnothing$
}
\Else{ 
  $v'$ $\gets$ $u$在$r$-1回合廣播的投票vote
  $v.B$ $\gets$ $v'.B$
}
    廣播$v$   
}
\If{在$TOcommit$到期之前,$u$在第$r$回合收到4$f$+1張vote訊息且包含一樣的 $b$且$b$ $\neq$ $\varnothing$}{
  
 Commit $b$

}
\Else{
進到$r$+1回合
}
  
\end{algorithm}